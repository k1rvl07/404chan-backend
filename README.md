# 404chan Backend

**–ê–Ω–æ–Ω–∏–º–Ω–∞—è –∏–º–∏–¥–∂–±–æ—Ä–¥–∞ –Ω–∞ Go + Gin + WebSocket**

–ë—ç–∫–µ–Ω–¥ —á–∞—Å—Ç—å full-stack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Go**, **Gin**, **GORM** –∏ **Redis**.  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã–π WebSocket-—á–∞—Ç —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Clean Architecture**, –∏ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [Go (Golang)](https://go.dev/) ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- [Gin](https://github.com/gin-gonic/gin) ‚Äî HTTP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [GORM](https://gorm.io/) ‚Äî ORM –¥–ª—è PostgreSQL
- [Redis](https://redis.io/) ‚Äî –∫—ç—à –∏ PubSub
- [Gorilla WebSocket](https://github.com/gorilla/websocket) ‚Äî WebSocket-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- [zap](https://github.com/uber-go/zap) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä
- [.env](https://github.com/joho/godotenv) ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [Docker](https://www.docker.com/) + [Docker Compose](https://docs.docker.com/compose/) ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **WebSocket**
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `/ws`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ (WebSocket Hub)
- ‚úÖ **Health Check**
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç `/health` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å PostgreSQL –∏ Redis
- ‚úÖ **–°—Ç—Ä–æ–≥–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
  - handler ‚Üí service ‚Üí repository ‚Üí model
- ‚úÖ **Redis Provider**
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ PubSub –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON-–ª–æ–≥–∏ —á–µ—Ä–µ–∑ `zap`
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ `.env`**
- ‚úÖ **Docker-ready**  
  - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏ —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```bash
backend/
‚îú‚îÄ‚îÄ cmd/                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (main.go)
‚îú‚îÄ‚îÄ internal/             # –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ app/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø–æ —Ñ–∏—á–∞–º)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ health/       # Health Check
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bootstrap.go  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 
‚îÇ   ‚îú‚îÄ‚îÄ config/           # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ db/               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ providers/        # Redis, WebSocketHub –∏ –¥—Ä.
‚îÇ   ‚îú‚îÄ‚îÄ gateways/         # –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ router/           # –ú–∞—Ä—à—Ä—É—Ç—ã HTTP + WebSocket
‚îÇ   ‚îú‚îÄ‚îÄ middleware/       # CORS, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –•–µ–ª–ø–µ—Ä—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ pkg/                  # –û–±—â–∏–µ –ø–∞–∫–µ—Ç—ã, –æ—à–∏–±–∫–∏
‚îú‚îÄ‚îÄ migrations/           # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Makefile              # Makefile
‚îú‚îÄ‚îÄ modd.conf             # –ö–æ–Ω—Ñ–∏–≥ modd
‚îú‚îÄ‚îÄ go.mod / go.sum       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îî‚îÄ‚îÄ README.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üõ† –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

> –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Go, PostgreSQL, Redis

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` ‚Üí `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
go mod tidy
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ `goose`)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
go run ./cmd/main.go
```

–∏–ª–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [modd](https://github.com/cortesi/modd)):

```bash
air
```

---

## üì° WebSocket

- URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `ws://localhost:8080/ws`
- –ö–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID

---

## üîç Health Check

```http
GET /health
```

–û—Ç–≤–µ—Ç:

```json
{
  "DB": "ok",
  "Redis": "ok"
}
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](https://opensource.org/licenses/MIT)

---

## üß† –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –∫–∞–∫ —á–∞—Å—Ç—å full-stack –ø—Ä–æ–µ–∫—Ç–∞ [404chan](https://github.com/k1rvl07)
